## 소프트웨어 관점의 테스트

위키피디아에서는 소프트웨어 테스트를 다음과 같이 정의하고 있습니다. <br>
**"프로그램을 실행하여 오류와 결함을 검출하고 애플리케이션이 요구 사항에 맞게 동작하는 지 검증하는 절차"**를 말합니다.

## 테스트코드를 작성해야 하는 이유
테스트코드는 리펙토링할 때 꼭 필요한 존재입니다. 테스트코드를 짜놓고 리펙토링을 하게되면 리펙토링 하기 전 과 후의 결과가 동일하다는 것을 보장할 수 있죠. 그래서 개발서적들에서는 좋은 코드로 리펙토링하는 법을 가이드하기 전에 테스트코드를 작성하라고 항상 당부하고 있습니다. 리펙토링 뿐 아니라 새로운 기능이 추가되거나 기존 기능이 변경되었을 때 다른 기능들이 제대로 동작한다는 것을 보장할 수 있기에 유지보수 측면에서도 매우 중요합니다. 예상치 못한 에러를 미리 방지할 수 있죠.

## 테스팅으로 얻는 이점
1. 디버깅 시간을 단축! 만약 데이터가 잘못 나왔다면 그것이 UI의 문제인지 DB의 문제인지 등 전부 테스트를 해봐서 찾아야 하는데 테스팅 환경이 구축되어있다면 자동화된 유닛 테스팅으로 특정 버그를 쉽게 찾아 낼 수 있습니다.

2. 더욱 안정적인 어플리케이션! 많은 테스트 코드와 함께 작성된 코드의 어플리케이션이 되기 때문에 훨씬 안정적인 어플리케이션이 됩니다.

3. 이밖에도 재설계 시간의 단축, 추가로 무언가를 더 구현해야 할 때 더 용이하게 할 수 있는 등의 이점들이 있습니다.

## 프론트엔드 관점의 테스트
프론트엔드에서 테스트의 대상은 다음과 같이 크게 3가지(시각적 요소, 사용자 이벤트 처리, API 통신)을 생각해 볼 수 있습니다.

### 시각적 요소 
프론트엔드 개발자는 디자이너로부터 전달받은 디자인을 보고 HTML로 마크업을 한 뒤, CSS로 컴포넌트에 스타일을 입히는 작업을 수행합니다. 일반적으로 HTML 구조가 의도한 대로 나타나는 지를 테스트하기 위해 **스냅샷 테스트**를 수행하고, HTML에 CSS를 더해 컴포넌트가 실제로 브라우저에서 렌더링되는 모습이 의도한 대로 나타나는 지를 테스트하기 위해 시각적 회귀 테스트(Visual Regression Test)를 수행합니다.

스냅샷 테스트에 사용되는 도구로 Jest가 대표적이고, 시각적 회귀 테스트에 사용되는 도루고 대표적으로 Storybook에서 만든 Chromatic이 존재합니다.

### 사용자 이벤트 처리
프론트엔드 개발자는 사용자의 마우스, 키보드 등의 입력 이벤트를 적절한 이벤트 핸들러로 처리하는 작업도 담당합니다. 이를 테스트하기 위해 자바스크립트 API 또는 React와 같은 라이브러리에서 제공하는 테스트 유틸리티를 활용하여 이벤트를 시뮬레이션하거나 E2E 테스트를 통해서 실제로 브라우저상에서 이벤트를 발생시킬 수 있습니다. Node.js 환경에서 테스트하는 경우 React 팀이 권장하는 테스트 도구인 testing-library에서 제공하는 패키지를 활용하면 사용자 이벤트를 보다 효율적으로 시뮬레이션 할 수 있습니다.

### API 서버 통신
프론트엔드 개발자는 브라우저 API 또는 라이브러리를 활용하여 API 서버와 통신하고 애플리케이션 상태를 동기화하는 작업도 수행합니다. API 서버와의 통신을 테스트하는 방법은 여러 가지가 있는데, 첫 번째로 실제 API 서버를 이용하는 방법이 있으며 이 방법은 E2E 테스트에서 주로 사용됩니다. 그리고 테스트 API 서버를 구축하거나 API client를 모킹하는 방법이 존재합니다. 이렇게 API client를 모킹하면 API 요청에 대한 응답을 원하는 대로 수정할 수 있기 때문에 다양한 상황을 테스트할 수 있다는 장점이 있습니다. Jest를 활용하면 모듈을 간단한 방법으로 모킹할 수 있기 때문에 testing-library와 마찬가지로 Jest를 테스트 도구로 활용할 것을 React 팀에서 권장하고 있습니다.





## 참고한 글
* [모던 프론트엔드 테스트 전략 — 1편(Testing Overview)](https://blog.mathpresso.com/%EB%AA%A8%EB%8D%98-%ED%94%84%EB%A1%A0%ED%8A%B8%EC%97%94%EB%93%9C-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%A0%84%EB%9E%B5-1%ED%8E%B8-841e87a613b2)
* [실용적인 프론트엔드 테스트 전략 (1)](https://meetup.toast.com/posts/174)